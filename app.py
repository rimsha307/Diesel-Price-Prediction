import streamlit as st
import pandas as pd
import datetime
import joblib

# Load model and expected columns
model = joblib.load("diesel_price_model.pkl")
expected_columns = joblib.load("columns.pkl")

# Dropdown options
cities = ['MIDDLETOWN', 'VAUGHN', 'MILTON', 'BYRON CENTER', 'Elkton',
       'New Florence', 'Hampton', 'Pembroke', 'Harrisburg', 'BREEZEWOOD',
       'Sulphur Springs', 'Austin', 'Garland', 'DALLAS', 'Raphine',
       'Winchester', 'Richmond', 'Palestine', 'WEST MEMPHIS',
       'Little Rock', 'TEXARKANA', 'Monument', 'Medley', 'Temple',
       'Wildwood', 'Tallapoosa', 'Des Moines', 'Indianapolis', 'Corbin',
       'Frankfort', 'Catlettsburg', 'Sonora', 'Hagerstown',
       'Jefferson City', 'SPRINGFIELD', 'MATTHEWS', 'Jackson', 'Raleigh',
       'Bordentown', 'Beaverdam', 'Edon', 'Jeffersonville', 'Austinburg',
       'Belmont', 'Oklahoma City', 'Jonestown', 'Lenoir City', 'Fairview',
       'Denton', 'Valley View', 'CADDO MILLS', 'Dallas',
       'Colonial Heights', 'Toms Brook', 'Denver', 'Montgomery',
       'Caddo Valley', 'MARION', 'Duson', 'OKLAHOMA CITY', 'Mill Hall',
       'Clinton', 'Baird', 'WINSLOW', 'Springfield', 'PONTOON BEACH',
       'Baltmore', 'ALBUQUERQUE', 'EL PASO', 'Hazen', 'ALTOONA',
       'Ruther Glen', 'alvern', 'WILDWOOD', 'PORT WENTWORTH', 'Pendleton',
       'ANNA', 'RAYVILLE', 'CHARLESTON', 'Marengo', 'Crossville',
       'Pacific', 'Winona', 'Columbus', 'STEUBENVILLE', 'Frystown',
       'Tyler', 'Fort Worth', 'Troutville', 'ELLENSBURG', 'Tolleson',
       'Eloy', 'Cartersville', 'Atlanta', 'Mt Vernon', 'Leavenworth',
       'Shepherdsville', 'FRANKLIN', 'Iowa', 'Bunkie', 'Greenwood',
       'Sturbridge', 'Sullivan', 'MARSTON', 'Gretna', 'Rotterdam',
       'Eaton', 'Findlay', 'LEBANON', 'Portersville', 'Cowpens',
       'Columbia', 'Florence', 'Blacksburg', 'St George', 'Dandridge',
       'Nashville', 'Knoxville', 'Gordonsville', 'Hurricane Mills',
       'Edna', 'Waco', 'LUBBOCK', 'Van', 'Staunton', 'MOUNT AIRY',
       'NEW HAVEN', 'BEAVER DAM', 'TERRELL', 'Topeka', 'NORTHFIELD',
       'Dillon', 'ROBERTS', 'LEBANON JUNCTION', 'White Pine',
       'NEW BOSTON', 'RUTHER GLEN', 'Tampa', 'Tallahassee', 'South Bay',
       'Oglesby', 'Haubstadt', 'Walton', 'WADDY', 'Baton Rouge',
       'West Monroe', 'Joplin', 'Meridian', 'Pearl', 'Hubbard',
       'Newberry', 'Holladay', 'Greeneville', 'Cookeville', 'Lebanon',
       'Von Ormy', 'Baytown', 'Mount Vernon', 'San Antonio', 'Santo',
       'Caddo Mills', "Tom's Brook", 'Wytheville', 'WOODHAVEN',
       'Pittston', 'ALORTON', 'AMARILLO', 'ST AUGUSTINE', 'WALTON',
       'Minden', 'ARDMORE', 'Madison', 'AURORA', 'North Stonington',
       'Woodburn', 'Franklin', 'Collins', 'Conover', 'Seville', 'Tifton',
       'Charleston', 'Gulfport', 'AUSTINBURG', 'Leary', 'Hearne',
       'Hartford', 'BAYTOWN', 'Lake', 'BENTON HARBOR', 'Birmingham',
       'Lee', 'Lake City', 'Fremont', 'Spiceland', 'Tallulah', 'Kearney',
       'Higginsville', 'Magee', 'Mt Airy', 'Conneaut', 'HUBBARD',
       'SUNBURY', 'Tonkawa', 'Carlisle', 'Rock Hill', 'Canton',
       'SULPHUR SPRINGS', 'Max Meadows', 'Sutton', 'Nitro', 'MCCALLA',
       'Altoona', 'PIEDMONT', 'Mauston', 'BLACK RIVER FALLS', 'McCalla',
       'MARIANNA', 'Lake Charles', 'BROOKVILLE', 'Clarksville',
       'BRUNSWICK', 'Brooklyn', 'Woodhull', 'Troy', 'Joliet', 'Ardmore',
       'Hamburg', 'CARLISLE', 'Breezewood', 'BLACKSBURG', 'Baxter',
       'Dickson', 'DICKSON', 'Rockwall', 'Morgantown', 'West Memphis',
       'CARNESVILLE', 'Ozark', 'Byron', 'Braselton', 'Warrenton',
       'eidsville', 'CARNEYS POINT', 'TOMS BROOK', 'FORT CHISWELL',
       'CATLETTSBURG', 'Theodore', 'Lebanon Junction', 'Saint Louis',
       'Hayti', 'Perrysburg', 'Chillicothe', 'CHECOTAH', 'JACKSON',
       'McPherson', 'CLEAR BROOK', 'EMPORIA', 'Matthews', 'Fultonville',
       'Harrisonburg', 'Tucson', 'DADE CITY', 'Carnesville', 'VILLA RICA',
       'Highland', 'Holland', 'SALISBURY', 'Waterloo', 'Upper Sandusky',
       'Atoka', 'New Milford', 'Winnsboro', 'ROCK HILL', 'DAVENPORT',
       'Harrisonville', 'DOTHAN', 'EDINBURG', 'Quartzsite', 'EFFINGHAM',
       'Memphis', 'Laredo', 'Fort Stockton', 'Providence Forge',
       'Franksville', 'Lincoln', 'Searcy', 'LAKE PARK', 'Pontoon Beach',
       'Dayton', 'Tye', 'Fort Chiswell', 'HAUBSTADT', 'FAIRVIEW',
       'FORT PIERCE', 'Haughton', 'Boston', 'Batesville', 'Troutman',
       'New Braunfels', 'Lambsburg', 'HARRISONBURG', 'Moody', 'GREENWOOD',
       'Toomsuba', 'Brookville', 'GULFPORT', 'Annapolis', 'Tuscaloosa',
       'Auburndale', 'Mossy Head', 'MT VERNON', 'MONEE', 'Gary',
       'LAKE STATION', 'Bath', 'Monteagle', 'Stanton', 'Hungerford',
       'Lubbock', 'Channelview', 'BELOIT', 'INDIANAPOLIS', 'Disputanta',
       'JARRELL', 'Remington', 'Alexandria', 'Newburgh', 'JEFFERSONVILLE',
       'Millersport', 'Lexington', 'North Little Rock', 'Miami Gardens',
       'Newton', 'Simpsonville', 'Rolla', 'JOPLIN', 'KNOXVILLE',
       'NEW BRAUNFELS', 'SUFFOLK', 'KANSAS CITY', 'KENLY', 'Saint Paul',
       'Cocoa', 'PIONEER', 'CLEVELAND', 'Weatherford', 'RAPHINE', 'Pasco',
       'Eagleville', 'Sunbury', 'MILL HALL', 'LANSING', 'Tuscola',
       'LAREDO', 'BYRON', 'LASALLE', 'PEARL', 'Edmond', 'Pageland',
       'Anna', 'LATTA', 'NITRO', 'HAGERSTOWN', 'LIMON', 'Rayville',
       'Santa Fe', 'Cleveland', 'Houston', 'Texarkana', 'Madera', 'Boron',
       'Marianna', 'Shelbyville', 'New Haven', 'LOWELL', 'Kansas City',
       'Georgetown', 'Strafford', 'Bloomsbury', 'Napoleon', 'Oak Creek',
       'MOUNTAIN HOME', 'Post Falls', 'Caldwell', 'Augusta', 'Rocker',
       'Billings', 'Belgrade', 'Fargo', 'Bismarck', 'Bow', 'Concord',
       'Fernley', 'Winnemucca', 'Ontario', 'Sioux Falls', 'Rapid City',
       'Murdo', 'Salt Lake City', 'WILLARD', 'Burlington', 'Laramie',
       'Rock Springs', 'Cheyenne', 'COKEVILLE', 'Gillette', 'Casper',
       'Jacksonville', 'Fort Pierce', 'Alorton', 'Benton Harbor',
       'Salisbury', 'Richfield', 'Pine Grove', 'Odessa', 'Anthony',
       'Meadowview', 'Albany', 'Phoenix', 'Kingman', 'Newnan', 'Dalton',
       'Percival', 'Hampshire', 'Williamsburg', 'Zanesville',
       'Wilmington', 'Hebron', 'MILLERSPORT', 'HURRICANE MILLS',
       'Kilgore', 'New Boston', 'Stratford', 'Tacoma', 'MYERSTOWN',
       'Covington', 'PINE GROVE', 'NEW MILFORD', 'DUBLIN', 'Chanute',
       'HAUGHTON', 'NORTH EAST', 'OAK GROVE', 'Milford', 'Boonville',
       'OLIVE BRANCH', 'Rhome', 'Carmel Church', 'Marion', 'PECOS',
       'Fort Myers', 'Davenport', 'PECULIAR', 'North Lima', 'TYE',
       'FORT WORTH', 'South Hill', 'BUFFALO', 'PERRYSBURG', 'PHOENIX',
       'MIDWAY', 'South Hutchinson', 'RESACA', 'CANTON', 'RUSSELLVILLE',
       'SALINA', 'PENDLETON', 'Binghamton', 'SAYRE', 'SEFFNER',
       'UNION POINT', 'Cusseta', 'Mt Sterling', 'Dunn', 'SMITHTON',
       'Ocala', 'SOUTH BELOIT', 'Mount STERLING', 'Heiskell', 'SPICELAND',
       'Midlothian', 'Sweetwater', 'SULPHUR', 'Kingsville', 'ST GEORGE',
       'Mc Calla', 'Kuttawa', 'SULLIVAN', 'Carneys Point', 'Londonderry',
       'Skippers', 'ST MARYS', 'TEMPLE', 'Council Bluffs', 'Greenville',
       'Circleville', 'Okemah', 'NIOTA', 'Prescott', 'SHEPHERDSVILLE',
       'Lansing', 'Trenton', 'Latta', 'DISPUTANTA', 'Danville',
       'Ormond Beach', 'TULSA', 'HOPE HULL', 'Dade City', 'Greenfield',
       'WACO', 'Port Wentworth', 'Hardeeville', 'Whiteland', 'WARRENTON',
       'WATERLOO', 'Mahwah', 'FORT MYERS', 'WAYLAND', 'Northfield',
       'Liverpool', 'Berkshire', 'Lawton', 'Mifflinville', 'TYLER',
       'WYTHEVILLE', 'WHITELAND', 'WICHITA FALLS', 'Canaan', 'WHITE PINE',
       'PASADENA', 'ROCHESTER', 'South Beloit', 'GREENFIELD',
       'Breaux Bridge', 'Bellville', 'Fairfield', 'BEASLEY', 'DODGE CITY',
       'CISCO', 'Eutaw', 'Prichard', 'Lordsburg', 'VANDALIA', 'Jarrell',
       'PEVELY', 'GIRARD', 'Milan', 'LIVERPOOL', 'TROUTVILLE', 'TROUTMAN',
       'COVINGTON', 'Norfolk', 'Menomonie', 'ATALISSA', 'GRAND PRAIRIE',
       'LITCHFIELD', 'Mosheim', 'TROY', 'LIMA', 'WILLIAMSVILLE', 'ELKIN',
       'SMYRNA', 'SMITHS GROVE', 'INA', 'CORBIN', 'KNIGHTSTOWN', 'RIPLEY',
       'Loxley', 'DUNN', 'MIAMI', 'BRIDGEVIEW', 'RHOME', 'Saint Marys',
       'VALDOSTA', 'Dwight', 'Newark', 'Austintown', 'Cambridge',
       'EMLENTON', 'MARSHALL', 'Benton', 'Waddy', 'MASCOUTAH', 'ITALY',
       'PALESTINE', 'LINCOLN', 'GOOD HOPE', 'Mustang Ridge',
       'Wichita Falls', 'Burns Harbor', 'Glendale', 'Grayson',
       'Grantsville', 'North East', 'Grand Ledge', 'Chouteau', 'Smithton',
       'COTTONDALE', 'CADDO VALLEY', 'Avondale', 'CALHOUN',
       'Philadelphia', 'Weimar', 'KINGSLAND', 'Cumberland', 'Burbank',
       'HARRISBURG', 'Tumwater', 'STURBRIDGE', 'GRANITEVILLE',
       'HARDEEVILLE', 'Wood River', 'Summerville', 'WINNSBORO',
       'CROSSVILLE', 'GORDONSVILLE', 'Brunswick', 'MONTEAGLE', 'RED OAK',
       'HAW RIVER', 'CANDOR', 'MADISON', 'MCLEANSVILLE', 'CONOVER',
       'Robinson', 'MONROE', 'Etna', 'CAROL STREAM', 'JACKSONVILLE',
       'LAMAR', 'SANTA ROSA', 'STRATFORD', 'CEDAR RAPIDS',
       'Mount Sterling', 'Colbert', 'HENRIETTA', 'BUNKIE', 'OCALA',
       'BENSENVILLE', 'Statesville', 'ST ROSE', 'Vicksburg', 'ROCHELLE',
       'Montague', 'Black River Falls', 'SAN SIMON', 'Morris', 'Flowood',
       'Girard', 'Piedmont', 'NASH', 'Russellville', 'Emporia', 'Biloxi',
       'AUSTINTOWN', 'Mascoutah', 'Cameron', 'harlotte', 'Haw River',
       'Bridgeview', 'WALCOTT', 'DALEVILLE', 'FREMONT', 'Mebane',
       'DEXTER', 'Jamestown', 'SAN ANTONIO', 'DALTON', 'Demotte',
       'Sparta', 'Tulsa', 'FLORENCE', 'GEORGETOWN', 'Monroe', 'MEMPHIS',
       'Saint Cloud', 'Graham', 'ROLAND', 'Cayce', 'TUSCALOOSA',
       'BIG SPRING', 'VON ORMY', 'AUGUSTA', 'ALSIP', 'ATLANTA', 'ATOKA',
       'Edinburg', 'AVOCA', 'AVON', 'BALDWIN', 'Benson', 'BATH',
       'BATTLE CREEK', 'BRASELTON', 'Whitestown', 'Albuquerque',
       'BELMONT', 'EATON', 'Erie', 'Drums', 'Natalia', 'Hutchins',
       'BENTLEYVILLE', 'Oakdale', 'Cottondale', 'BENTON', 'Midway',
       'ochelle', 'Bentleyville', 'WEATHERFORD', 'BIRMINGHAM',
       'BLOOMINGTON', 'Murfreesboro', 'Schulenburg', 'BLOOMSBURY',
       'Northeast', 'BOONVILLE', 'Clayton', 'BOWMAN', 'BRAZIL',
       'BREAUX BRIDGE', 'BROOKLYN', 'St Louis', 'Decatur', 'Grand Island',
       'BURBANK', 'Huntsville', 'BURNS HARBOR', 'HAYTI', 'Dublin',
       'HOUSTON', 'CALDWELL', 'Alamo', 'CAMBRIDGE', 'Ellensburg',
       'CORDELE', 'Toledo', 'CARTERSVILLE', 'OAKWOOD', 'Hillsboro',
       'ALBANY', 'CAYCE', 'CHANNAHON', 'Three Rivers', 'CHILDRESS',
       'Brinkley', 'Brazil', 'Goshen', 'CHILLICOTHE', 'Terrell', 'Nevada',
       'Kenly', 'CIRCLEVILLE', 'Hempstead', 'CLEAR LAKE', 'CLINTON',
       'White House', 'COLONIAL HEIGHTS', 'COLUMBUS', 'COOKEVILLE',
       'Perryville', 'CORNERSVILLE', 'Rising Fawn', 'COUNCIL BLUFFS',
       'Effingham', 'Hooker', 'CRAWFORDSVILLE', 'Morrilton',
       'North Fort Myers', 'Osceola', 'Ina', 'Bowman', 'Nash',
       'St Charles', 'DUBOIS', 'DANDRIDGE', 'DANVILLE', 'DECATUR',
       'WILLIAMSBURG', 'DENHAM SPRINGS', 'Neosho', 'DES MOINES',
       'N. LITTLE ROCK', 'Sioux City', 'DRUMS', 'Saint George',
       'Belleville', 'Sulphur', 'DUNCAN', 'Saint LOUIS', 'Clear Lake',
       'Denham Springs', 'ERIE', 'Grand Prairie', 'TUCSON', 'FINDLAY',
       'Gaffney', 'Aurora', 'FRANKSVILLE', 'GAFFNEY', 'GARY', 'GILMAN',
       'Bloomington', 'El Paso', 'GLENDALE', 'Big Cabin', 'Amarillo',
       'GRANTSVILLE', 'GREENEVILLE', 'Seminole', 'Fond du Lac', 'HAMMOND',
       'Dothan', 'HAMPTON', 'Lufkin', 'Hereford', 'Muscle Shoals',
       'Jasper', 'Villa Rica', 'Garden City', 'Vandalia', 'Lake Station',
       'Willow Springs', 'HEBRON', 'Muskogee', 'Pioneer', 'Antioch',
       'Red Oak', 'RICHFIELD', 'HIGGINSVILLE', 'HIGHLAND', 'VAN',
       'HOLLAND', 'HUNTSVILLE', 'Moriarty', 'IONIA', 'IOWA',
       'SOUTH HILL   BRACY', 'JAMESTOWN', 'JASPER', 'JOLIET', 'Waller',
       'Bastian', 'JUNCTION', 'KEARNEY', 'KIMBALL TOWNSHIP', 'KUTTAWA',
       'Bensenville', 'LEAVENWORTH', 'Foristell', 'Terre Haute', 'Boyce',
       'Ottawa Lake', 'Holbrook', 'Wadsworth', 'Big Springs', 'Syracuse',
       'New Baden', 'LONDON', 'Bushnell', 'DENISON', 'LUFKIN', 'MARENGO',
       'Sinton', 'MAUSTON', 'MEBANE', 'SEVILLE', 'BERKSHIRE', 'MERIDIAN',
       'ELLISTON', 'MILFORD', 'Sidney', 'Pevely', 'Pleasant Hill',
       'FALFURRIAS', 'Van Horn', 'MORGANTOWN', 'MORIARTY', 'MORRIS',
       'MOSS POINT', 'Dubois', 'Mims', 'Minooka', 'MOUNT VERNON',
       'Lake Township', 'MT PLEASANT', 'BRINKLEY', 'AVONDALE', 'Savannah',
       'Oakwood', 'Seguin', 'Comfort', 'Hammond', 'MURFREESBORO',
       'MUSKOGEE', 'MUSTANG RIDGE', 'LITTLE ROCK', 'Rochelle', 'Greenup',
       'Sauget', 'Waxahachie', 'NAPOLEON', 'NASHVILLE', 'NEVADA',
       'NEW ALBANY', 'NEWNAN', 'COTULLA', 'NORTH LIMA', 'OAK CREEK',
       'Ennis', 'OKEECHOBEE', 'ORANGE', 'OSCEOLA', 'OTTAWA LAKE',
       'PACIFIC', 'PADUCAH', 'Shorter', 'Kingsland', 'Beloit', 'PERCIVAL',
       'PERRYVILLE', 'Satsuma', 'PITTSTON', 'PLEASANT HILL', 'PLYMOUTH',
       'PORT JERVIS', 'PORTERSVILLE', 'PRICEVILLE', 'Omaha', 'Nowata',
       'PROVIDENCE FORGE', 'Avoca', 'REMINGTON', 'RISING FAWN',
       'ROTTERDAM', 'ROBINSON', 'Plymouth', 'Saint CLOUD', 'SHELBYVILLE',
       'Waynesville', 'Niota', 'Burleson', 'SIMPSONVILLE', 'SIOUX CITY',
       'SKIPPERS', 'SONORA', 'New Albany', 'Christiana', 'SOUTH BEND',
       'SPRINGDALE', 'STANTON', 'MINOOKA', 'Checotah', 'STAUNTON',
       'SATSUMA', 'WEST MONROE', 'EDMOND', 'Slippery Rock', 'Priceville',
       'Walcott', 'Hazelton', 'Marston', 'Sikeston', 'Okmulgee',
       'Graniteville', 'SUTTON', 'TALLAPOOSA', 'Marshall', 'TERRE HAUTE',
       'TIFTON', 'Cedar Rapids', 'Poplarville', 'Hamilton', 'TONKAWA',
       'Williams', 'Moss Point', 'UPPER SANDUSKY', 'VALPARAISO',
       'VAN HORN', 'Duncan', 'VEGA', 'VIENNA', 'WAYNESVILLE', 'Luling',
       'Manchester', 'Eagle Pass', 'WILMINGTON', 'WINONA', 'WOODHULL',
       'OAKDALE', 'ST ROBERT']
states = ['PA', 'NM', 'MI', 'MD', 'MO', 'NJ', 'NY', 'TX', 'VA', 'AR', 'CO',
       'FL', 'GA', 'IA', 'IN', 'KY', 'MS', 'NC', 'OH', 'OK', 'TN', 'AL',
       'LA', 'SC', 'AZ', 'IL', 'WA', 'MA', 'NE', 'KS', 'MN', 'WI', 'CT',
       'WV', 'CA', 'ID', 'ME', 'MT', 'ND', 'NH', 'NV', 'OR', 'SD', 'UT',
       'VT', 'WY']
regions = ['Northeast', 'West', 'Midwest', 'South']
stores = ['7-11 STORE 40283 - 7090', 'ALLSUPS 2376', 'AMERICAN TRUCK PLAZA',
       'EXIT 76 AUTO TRUCK PLAZA', 'FJ - BREEZEWOOD 516', 'FJ 1061',
       'FJ 1086', 'FJ 612', 'FJ 645', 'FJ 689', 'FJ 703', 'FJ 704',
       'FJ 728', 'FJ ALTOONA 913', 'FJ- ANNA 477', 'FJ CHARLESTON 571',
       'FJ FRANCHISE - ELLENSBURG', 'FJ LEBANON 552', 'FJ MOUNT AIRY 549',
       'FJ NEW HAVEN 304', 'FJ- NORTHFIELD 576', 'FJ -ROBERTS 470',
       'FJ RUTHER GLEN 876', 'FJ WADDY 663', 'FJ WOODHAVEN 895',
       'FJ-ALORTON 642', 'FJ-AMARILLO 723', 'FJ-ARDMORE 701',
       'FJ-AURORA 619', 'FJ-AUSTINBURG 694', 'FJ-BAYTOWN 725',
       'FJ-BEAVER DAM 695', 'FJ-BENTON HARBOR 666', 'FJ-BERKSHIRE 696',
       'FJ-BESSEMER 601', 'FJ-BLACK RIVER FALLS 756', 'FJ-BROOKVILLE 707',
       'FJ-BRUNSWICK 627', 'FJ-CARLISLE 708', 'FJ-CARMEL CHURCH 749',
       'FJ-CARNESVILLE 628', 'FJ-CARNEYS POINT 688',
       'FJ-CATLETTSBURG 660', 'FJ-CHECOTAH 702', 'FJ-CLEAR BROOK 752',
       'FJ-COKEVILLE 760', 'FJ-DADE CITY 624', 'FJ-DALLAS 726',
       'FJ-DAVENPORT 636', 'FJ-DOTHAN 603', 'FJ-EDINBURG 727',
       'FJ-EFFINGHAM 643', 'FJ-EMPORIA 658', 'FJ-EVANSVILLE 647',
       'FJ-FAIRVIEW 720', 'FJ-FORT PIERCE 622', 'FJ-FRANKLIN 661',
       'FJ-GREENWOOD 665', 'FJ-GULFPORT 676', 'FJ-HOUSTON 729',
       'FJ-HUBBARD 697', 'FJ-INDIANAPOLIS 649', 'FJ-JACKSON 630',
       'FJ-JARRELL 507', 'FJ-JEFFERSONVILLE 698', 'FJ-JOPLIN 669',
       'FJ-KANSAS CITY 768', 'FJ-KENLY 683', 'FJ-KNOXVILLE 722',
       'FJ-LAKE PARK 631', 'FJ-LAKE STATION 650', 'FJ-LAMAR 709',
       'FJ-LANSING 667', 'FJ-LAREDO 730', 'FJ-LASALLE 644',
       'FJ-LATTA 713', 'FJ-LEBANON 652', 'FJ-LIMON 621', 'FJ-LOWELL 653',
       'FJ-MATTHEWS 671', 'FJ-MAX MEADOWS 750', 'FJ-MILLERSPORT 699',
       'FJ-MYERSTOWN 518', 'FJ-NEW MILFORD 710', 'FJ-NORTH EAST 784',
       'FJ-OAK GROVE 662', 'FJ-OLIVE BRANCH 677', 'FJ-PEARL 678',
       'FJ-PECOS 736', 'FJ-PECULIAR 672', 'FJ-PEMBROKE 693',
       'FJ-PERRYSBURG 700', 'FJ-PHOENIX 611', 'FJ-QUINCY 623',
       'FJ-RESACA 632', 'FJ-ROCK HILL 714', 'FJ-RUSSELLVILLE 605',
       'FJ-SALINA 659', 'FJ-SAYRE 705', 'FJ-SEFFNER 625', 'FJ-SILOAM 633',
       'FJ-SMITHTON 620', 'FJ-SOUTH BELOIT 646', 'FJ-SPICELAND 655',
       'FJ-ST AUGUSTINE 626', 'FJ-ST GEORGE 493', 'FJ-SULLIVAN 673',
       'FJ-TEMPLE 634', 'FJ-TEXARKANA 606', 'FJ-TULSA 706', 'FJ-TYE 738',
       'FJ-TYSON 604', 'FJ-WACO 739', 'FJ-WALTON 664', 'FJ-WARRENTON 674',
       'FJ-WATERLOO 637', 'FJ-WAYLAND 675', 'FJ-WEST MEMPHIS 607',
       'FJ-WHITELAND 656', 'FJ-WICHITA FALLS 741', 'FJ-WILLARD 748',
       'FJ-WYTHEVILLE 754', 'FLYING J #1057', 'FLYING J #1117',
       'FLYING J #1247', 'FLYING J 657', 'FLYING J CISCO 551',
       'FLYING J MT VERNON #889', 'FLYING J VANDALIA 97', 'MR FUEL #1020',
       'MR FUEL #718', 'MR FUEL #721', 'MR FUEL #732', 'MR FUEL #753',
       'ONE9 1282', 'ONE9 1304 FORT WORTH TX', 'ONE9 258', 'ONE9 301',
       'ONE9 339', 'ONE9 496', 'ONE9 MR FUEL #1032', 'ONE9 MR FUEL #1108',
       'ONE9 MR FUEL 1245', 'ONE9 MR FUEL 278', 'ONE9 SPEEDWAY 83424',
       'ONE9 SPEEDWAY 83547', 'ONE9 SPEEDWAY 83961',
       'ONE9 SPEEDWAY 86940', 'ONE9 SPEEDWAY 87138',
       'ONE9 SPEEDWAY 87154', 'ONE9 SPEEDWAY 87179',
       'ONE9 SPEEDWAY 87217', 'ONE9 SPEEDWAY 87423',
       'ONE9 SPEEDWAY 87606', 'ONE9 SPEEDWAY 88061',
       'ONE9 SPEEDWAY 89561', 'PFJ SOUTHEAST 1049', 'PILOT - DUNN #900',
       'PILOT - MIAMI #874', 'PILOT #1042', 'PILOT #1126', 'PILOT #1140',
       'PILOT #1163', 'PILOT #1174', 'PILOT #1195', 'PILOT #1219',
       'PILOT #1225', 'PILOT #1297', 'PILOT #1303', 'PILOT #1549',
       'PILOT #1550', 'PILOT #1577', 'PILOT #4555', 'PILOT #4556',
       'PILOT #4557', 'PILOT #4558', 'PILOT #4559', 'PILOT #4560',
       'PILOT #4561', 'PILOT #4562', 'PILOT #4563', 'PILOT #4566',
       'PILOT #4568', 'PILOT #4569', 'PILOT #4576', 'PILOT #4578',
       'PILOT #4596', 'PILOT #4597', 'PILOT #4598', 'PILOT #4599',
       'PILOT #575', 'PILOT #6955', 'PILOT #6978', 'PILOT #7937',
       'PILOT #7971', 'PILOT #7976', 'PILOT #7983', 'PILOT #7996',
       'PILOT 049', 'PILOT 1041', 'PILOT 1047', 'PILOT 1052',
       'PILOT 1070', 'PILOT 1083', 'PILOT 1092', 'PILOT 1105',
       'PILOT 1114', 'PILOT 1164', 'PILOT 1181', 'PILOT 1269',
       'PILOT 1284', 'PILOT 1299', 'PILOT 150', 'PILOT 179', 'PILOT 219',
       'PILOT 222', 'PILOT 268', 'PILOT 270', 'PILOT 28', 'PILOT 284',
       'PILOT 29', 'PILOT 293', 'PILOT 296', 'PILOT 306', 'PILOT 319',
       'PILOT 321', 'PILOT 337', 'PILOT 353', 'PILOT 405', 'PILOT 421',
       'PILOT 434', 'PILOT 438', 'PILOT 446', 'PILOT 46', 'PILOT 522',
       'PILOT 524', 'PILOT 559', 'PILOT 568', 'PILOT 65',
       'PILOT ALSIP 1030', 'PILOT ATLANTA 331', 'PILOT ATOKA 498',
       'PILOT AUSTINBURG 002', 'PILOT AUSTINTOWN 003', 'PILOT AVOCA 893',
       'PILOT AVON 004', 'PILOT AVONDALE 459', 'PILOT BALDWIN 087',
       'PILOT BATH (KANONA AREA) 322', 'PILOT BATTLE CREEK 017',
       'PILOT BEASLEY 472', 'PILOT BEAVER DAM 457', 'PILOT BELMONT #449',
       'PILOT BELOIT 289', 'PILOT BENTLEYVILLE 348', 'PILOT BENTON 118',
       'PILOT BIRMINGHAM 369', 'PILOT BLOOMINGTON 299',
       'PILOT BLOOMSBURY 280', 'PILOT BOONVILLE 044', 'PILOT BOWMAN 060',
       'PILOT BRASELTON 066', 'PILOT BRAZIL 444',
       'PILOT BREAUX BRIDGE 274', 'PILOT BROOKLYN 495',
       'PILOT BUFFALO 1028', 'PILOT BURBANK 287',
       'PILOT BURNS HARBOR 445', 'PILOT BYRON 267',
       'PILOT CADDO MILLS 367', 'PILOT CADDO VALLEY #492',
       'PILOT CALDWELL 309', 'PILOT CAMBRIDGE 006', 'PILOT CANTON  469',
       'PILOT CANTON #883', 'PILOT CARNEYS POINT 253',
       'PILOT CARTERSVILLE 067',
       'PILOT CASTLETON-ON-HUDSON  SCHODACK 146',
       'PILOT CAYCE (COLUMBIA AREA) 338', 'PILOT CHANNAHON 473',
       'PILOT CHILDRESS 1003', 'PILOT CHILLICOTHE 597',
       'PILOT CIRCLEVILLE 008', 'PILOT CLEAR LAKE 407',
       'PILOT CLEVELAND 481', 'PILOT CLINTON 061',
       'PILOT COLONIAL HEIGHTS  RICHMOND ARE 384', 'PILOT COLUMBUS 213',
       'PILOT COOKEVILLE 265', 'PILOT CORBIN 231', 'PILOT CORDELE 416',
       'PILOT CORNERSVILLE 406', 'PILOT COUNCIL BLUFFS 329',
       'PILOT CRAWFORDSVILLE 247', 'PILOT CROSSVILLE 114',
       'PILOT DALLAS 433', 'PILOT DANDRIDGE 226', 'PILOT DANVILLE 256',
       'PILOT DEALER 1288', 'PILOT DECATUR 368',
       'PILOT DENHAM SPRINGS 079', 'PILOT DES MOINES 373',
       'PILOT DICKSON 409', 'PILOT DISPUTANTA 4656', 'PILOT DRUMS 298',
       'PILOT DUBLIN 068', 'PILOT DUBOIS 336', 'PILOT DUNCAN 310',
       'PILOT EAST Saint LOUIS 313', 'PILOT EATON 286',
       'PILOT EFFINGHAM 165', 'PILOT EMPORIA 898', 'PILOT ERIE 311',
       'PILOT EXPRESS 1178', 'PILOT FINDLAY 360', 'PILOT FLORENCE 062',
       'PILOT FLYING J SOUTHEAST 6990', 'PILOT FORT PIERCE 090',
       'PILOT FRANKLIN 009', 'PILOT FRANKSVILLE 324', 'PILOT GAFFNEY 453',
       'PILOT GARY 271', 'PILOT GILMAN 468', 'PILOT GIRARD 281',
       'PILOT GLENDALE 048', 'PILOT GRANTSVILLE 408',
       'PILOT GREENEVILLE 051', 'PILOT GREENFIELD 030',
       'PILOT HAMMOND 300', 'PILOT HAMPTON (CLINTON AREA) 190',
       'PILOT HARRISBURG 245', 'PILOT HARRISONBURG 491',
       'PILOT HAUBSTADT 447', 'PILOT HAUGHTON 199', 'PILOT HAYTI 442',
       'PILOT HEBRON 285', 'PILOT HEBRON 448', 'PILOT HIGGINSVILLE 443',
       'PILOT HIGHLAND 031', 'PILOT HOLLAND 1021', 'PILOT HUNTSVILLE 234',
       'PILOT HURRICANE MILLS 053', 'PILOT INDIANAPOLIS 318',
       'PILOT IONIA 023', 'PILOT IOWA 1051', 'PILOT JACKSON 077',
       'PILOT JACKSON 366', 'PILOT JAMESTOWN 305', 'PILOT JASPER 500',
       'PILOT JOLIET 1024', 'PILOT JOPLIN 317', 'PILOT JUNCTION 1006',
       'PILOT KEARNEY 252', 'PILOT KIMBALL TOWNSHIP 596',
       'PILOT KUTTAWA #890', 'PILOT LEAVENWORTH 478', 'PILOT LEBANON 411',
       'PILOT LEBANON JUNCTION 399', 'PILOT LINCOLN 497',
       'PILOT LIVERPOOL 380', 'PILOT LONDON 454', 'PILOT LUFKIN 1023',
       'PILOT MADISON 420', 'PILOT MARENGO 455', 'PILOT MARIANNA 374',
       'PILOT MARION 1063', 'PILOT MARION 595', 'PILOT MAUSTON 164',
       'PILOT MEBANE 057', 'PILOT MEMPHIS 152', 'PILOT MERIDIAN 388',
       'PILOT MIDWAY 425', 'PILOT MILFORD 255', 'PILOT MILL HALL 001',
       'PILOT MINOOKA 236', 'PILOT MONEE 039', 'PILOT MORGANTOWN 503',
       'PILOT MORIARTY 475', 'PILOT MORRIS 483', 'PILOT MOSS POINT 586',
       'PILOT Mount STERLING 041', 'PILOT MOUNT VERNON 482',
       'PILOT MT PLEASANT 1012', 'PILOT MT. STERLING 041',
       'PILOT MURFREESBORO 404', 'PILOT MUSKOGEE 259',
       'PILOT MUSTANG RIDGE 1054', 'PILOT N. LITTLE ROCK 332',
       'PILOT NAPOLEON 303', 'PILOT NASHVILLE 413', 'PILOT NEVADA 167',
       'PILOT NEW ALBANY 174', 'PILOT NEW BRAUNFELS 330',
       'PILOT NEWNAN 422', 'PILOT NITRO 243', 'PILOT NORTH LIMA 011',
       'PILOT OAK CREEK 040', 'PILOT OAKWOOD 171', 'PILOT OKEECHOBEE 096',
       'PILOT ORANGE 431', 'PILOT OSCEOLA 131', 'PILOT OTTAWA LAKE 026',
       'PILOT PACIFIC 208', 'PILOT PADUCAH 358', 'PILOT PENDLETON 440',
       'PILOT PERCIVAL 238', 'PILOT PERRYSBURG 012',
       'PILOT PERRYVILLE 290', 'PILOT PIEDMONT 063', 'PILOT PITTSTON 370',
       'PILOT PLEASANT HILL 058', 'PILOT PLYMOUTH 198',
       'PILOT PORT JERVIS 880', 'PILOT PORT WENTWORTH 071',
       'PILOT PORTERSVILLE  NEW CASTLE AREA  081', 'PILOT PRICEVILLE 441',
       'PILOT PROVIDENCE FORGE 159', 'PILOT RAPHINE 4649',
       'PILOT RAYVILLE 335', 'PILOT REMINGTON 034', 'PILOT RICHFIELD 130',
       'PILOT RISING FAWN 415', 'PILOT ROBINSON 432', 'PILOT ROLAND 196',
       'PILOT ROTTERDAM 494', 'PILOT RUSSELLVILLE 430',
       'PILOT Saint CLOUD 134', 'PILOT SEVILLE 013',
       'PILOT SHELBYVILLE 242', 'PILOT SHEPHERDSVILLE 356',
       'PILOT SIMPSONVILLE 354', 'PILOT SIOUX CITY 594',
       'PILOT SKIPPERS 4651', 'PILOT SONORA 392', 'PILOT SOUTH BEND 035',
       'PILOT SPRINGDALE 145', 'PILOT ST. CLOUD 134', 'PILOT STANTON 149',
       'PILOT STAUNTON 396', 'PILOT SULPHUR 050',
       'PILOT SULPHUR SPRINGS 157', 'PILOT SUNBURY 014',
       'PILOT SUTTON 474', 'PILOT TALLAPOOSA 312', 'PILOT TEMPLE 417',
       'PILOT TERRE HAUTE 297', 'PILOT THORNTONS LINCOLN 514',
       'PILOT TIFTON 192', 'PILOT TOMS BROOK 4642', 'PILOT TONKAWA 1004',
       'PILOT TROY 249', 'PILOT TUCSON 593', 'PILOT TYLER 486',
       'PILOT UPPER SANDUSKY 239', 'PILOT VALPARAISO 036',
       'PILOT VAN HORN 209', 'PILOT VEGA 1027', 'PILOT VIENNA 398',
       'PILOT WAYNESVILLE 393', 'PILOT WEATHERFORD 206',
       'PILOT WEST MEMPHIS 429', 'PILOT WEST MONROE 428',
       'PILOT WHITE PINE 412', 'PILOT WHITELAND 037',
       'PILOT WILLIAMSBURG 437', 'PILOT WILMINGTON 016',
       'PILOT WINONA 261', 'PILOT WOODHULL #476', 'PILOT WYTHEVILLE 4619',
       'ROAD RANGER #118', 'ROAD RANGER #209', 'ROAD RANGER #242']

st.title("üõ¢Ô∏è Diesel Price Prediction App")

# Numeric inputs
today = datetime.date.today()
selected_date = st.date_input("Select a date", today)
st.write("You selected:", selected_date)
Year = selected_date.year
Month = selected_date.month
Day = selected_date.day
Weekday = selected_date.strftime('%A')  # e.g., 'Tuesday'
gallons = st.number_input("Number of Gallons", value=50.0)

# Categorical inputs
city = st.selectbox("City", cities)
state = st.selectbox("State", states)
region = st.selectbox("US Region", regions)
store = st.selectbox("Store Name", stores)

if st.button("Predict Diesel Price"):
    # Create input DataFrame
    input_df = pd.DataFrame({
        'Year': [Year],
        'Month': [Month],
        'Day': [Day],
        'Weekday': [Weekday],
        'NumberOfGallons': [gallons],
        'TotalPayment': [payment],
        'City': [city],
        'State': [state],
        'USRegion': [region],
        'StoreName': [store]
    })

    # One-hot encode
    input_encoded = pd.get_dummies(input_df)

    # Add missing columns
    for col in expected_columns:
        if col not in input_encoded.columns:
            input_encoded[col] = 0

    # Reorder columns
    input_encoded = input_encoded[expected_columns]

    # Predict
    prediction = model.predict(input_encoded)[0]
    st.success(f"üí∞ Predicted Diesel Price: ${prediction:.2f}")
